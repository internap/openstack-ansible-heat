registry:
  restart:                          always
  image:                            registry:2
  ports:
    - 5000:5000
  environment:
    REGISTRY_HTTP_TLS_CERTIFICATE: /certs/domain.crt
    REGISTRY_HTTP_TLS_KEY: /certs/domain.key
    REGISTRY_AUTH: htpasswd
    REGISTRY_AUTH_HTPASSWD_PATH: /auth/htpasswd
    REGISTRY_AUTH_HTPASSWD_REALM: Registry Realm
  storage:
    REGISTRY_STORAGE_SWIFT_USERNAME:
    REGISTRY_STORAGE_SWIFT_PASSWORD:
    REGISTRY_STORAGE_SWIFT_AUTHURL:                      https://storage.myprovider.com/auth/v1.0 or https://storage.myprovider.com/v2.0 or https://storage.myprovider.com/v3/auth
    REGISTRY_STORAGE_SWIFT_TENANT:
    REGISTRY_STORAGE_SWIFT_DOMAIN:
    REGISTRY_STORAGE_SWIFT_INSECURESKIPVERIFY:           true
    REGISTRY_STORAGE_SWIFT_REGION:                       fr
    REGISTRY_STORAGE_SWIFT_CONTAINER:                    registry
#    REGISTRY_STORAGE_SWIFT_ROOTDIRECTORY:                /docker-images
  maintenance:
    uploadpurging:
      enabled: true
      age: 168h
      interval: 24h
      dryrun: false
